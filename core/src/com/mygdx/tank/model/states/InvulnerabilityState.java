package com.mygdx.tank.model.states;

import com.badlogic.gdx.Gdx;
import com.mygdx.tank.model.Entity;
import com.mygdx.tank.model.components.tank.HealthComponent;
import com.mygdx.tank.model.components.tank.PowerupStateComponent;
import com.mygdx.tank.model.components.tank.ShootingCooldownComponent;

public class InvulnerabilityState implements PowerupState {
    @Override
    public void doAction(Entity tank) {
        System.out.println("is Invulnerable");
        HealthComponent health = tank.getComponent(HealthComponent.class);
        if (health != null) {
            health.setHealth(1000);
        }

        PowerupStateComponent powerupStateComponent = tank.getComponent(PowerupStateComponent.class);
        if (powerupStateComponent != null) {
            powerupStateComponent.inPowerupMode = true;
            powerupStateComponent.timer = 3.0f;
        }
    }

    @Override
    public String getPowerupType() {
        return "Invulnerable";
    }
}